<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>email-categorizer</title>
    <%= stylesheet_link_tag 'application', media: 'all' %>
    <%= javascript_include_tag "application" %>
    <script src="//maps.google.com/maps/api/js?v=3.18&sensor=false&client=&key=&libraries=geometry&language=&hl=&region="></script>
    <script src="//google-maps-utility-library-v3.googlecode.com/svn/tags/markerclustererplus/2.0.14/src/markerclusterer_packed.js"></script>
    <script src='//google-maps-utility-library-v3.googlecode.com/svn/tags/infobox/1.1.9/src/infobox_packed.js' type='text/javascript'></script>
  </head>
  <body>
    <div class="row">
      <div class="free-parking-area-show small-4 columns">
        <h5 id="notice"><%= notice %></h5>

        <h5>
          <strong>Title:</strong>
          <%= @free_parking_area.title %>
        </h5>

        <h5>
          <strong>Description:</strong>
          <%= @free_parking_area.description %>
        </h5>

        <h5>
          <strong>Address:</strong>
          <%= @free_parking_area.address %>
        </h5>

        <h5>
          <strong>City:</strong>
          <%= @free_parking_area.city %>
        </h5>

        <h5>
          <strong>State:</strong>
          <%= @free_parking_area.state %>
        </h5>

        <h5>
          <strong>Country:</strong>
          <%= @free_parking_area.country %>
        </h5>

        <h5>
          <strong>Zip Code:</strong>
          <%= @free_parking_area.zip_code %>
        </h5>


        <h5>
          <strong>Latitude:</strong>
          <%= @free_parking_area.latitude %>
        </h5>

        <h5>
          <strong>Longitude:</strong>
          <%= @free_parking_area.longitude %>
        </h5>

        <%= link_to 'Edit', edit_free_parking_area_path(@free_parking_area) if @free_parking_area.user == current_user %> |
        <%= link_to 'Back', free_parking_areas_path %>
      </div>
      <div>
        <div class='show-map small-9 columns' id='map'></div>
      </div>
    </div>

    <script type="text/javascript">
     handler = Gmaps.build('Google');
     var lat = <%= @free_parking_area.latitude %>
     var lon = <%= @free_parking_area.longitude %>
     var centerpoint = new google.maps.LatLng(lat, lon);

     handler.buildMap({ provider: {}, internal: {id: 'map'}}, function(){
       markers = handler.addMarkers(<%= raw @json_fpa.to_json %>);
       handler.map.centerOn(centerpoint)
       handler.getMap().setZoom(16);
     });
     </script>
  </body>
</html>
